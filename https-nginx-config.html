<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ousiri blog</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.a8882a5b.css" as="style"><link rel="preload" href="/blog/assets/js/app.706da052.js" as="script"><link rel="preload" href="/blog/assets/js/2.befbd2ed.js" as="script"><link rel="preload" href="/blog/assets/js/8.b8a0fbe6.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3df02791.js"><link rel="prefetch" href="/blog/assets/js/11.db5cd244.js"><link rel="prefetch" href="/blog/assets/js/12.c66f8cd9.js"><link rel="prefetch" href="/blog/assets/js/13.f4789aac.js"><link rel="prefetch" href="/blog/assets/js/14.1a59cbdf.js"><link rel="prefetch" href="/blog/assets/js/3.63081c82.js"><link rel="prefetch" href="/blog/assets/js/4.301d19de.js"><link rel="prefetch" href="/blog/assets/js/5.8f99ce51.js"><link rel="prefetch" href="/blog/assets/js/6.212dc2e5.js"><link rel="prefetch" href="/blog/assets/js/7.e1704d7d.js"><link rel="prefetch" href="/blog/assets/js/9.0dd7c49b.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a8882a5b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">ousiri blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="nginx常见配置"><a href="#nginx常见配置" aria-hidden="true" class="header-anchor">#</a> Nginx常见配置</h1> <h2 id="性能"><a href="#性能" aria-hidden="true" class="header-anchor">#</a> 性能</h2> <h3 id="配置头"><a href="#配置头" aria-hidden="true" class="header-anchor">#</a> 配置头</h3> <div class="language-conf extra-class"><pre class="language-text"><code># default: 1; worker的数量
worker_proceses auto;
# Changes the limit on the maximum number of open files (RLIMIT_NOFILE) for worker processes
worker_rlimit_nofile 30000;
</code></pre></div><h3 id="连接数"><a href="#连接数" aria-hidden="true" class="header-anchor">#</a> 连接数</h3> <p>The worker_connections command tells our worker processes how many people can simultaneously be served by Nginx. The default value is 768;</p> <p>可以通过查看 <code>ulimit -n</code> 决定</p> <div class="language-conf extra-class"><pre class="language-text"><code>events {
  worker_connections  20000;
}
</code></pre></div><h3 id="tcp设置"><a href="#tcp设置" aria-hidden="true" class="header-anchor">#</a> tcp设置</h3> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  # default: off; sendfile 配置可以提高 Nginx 静态资源托管效率。sendfile 是一个系统调用，直接在内核空间完成文件发送，不需要先 read 再 write，没有上下文切换开销。参考1
  sendfile on;
  # default: off; TCP_NOPUSH 是 FreeBSD 的一个 socket 选项，对应 Linux 的 TCP_CORK，Nginx 里统一用 tcp_nopush 来控制它，并且只有在启用了 sendfile 之后才生效。启用它之后，数据包会累计到一定大小之后才会发送，减小了额外开销，提高网络效率。参考1
  tcp_nopush on;
  # default: off; TCP_NODELAY 也是一个 socket 选项，启用后会禁用 Nagle 算法，尽快发送数据，某些情况下可以节约 200ms（Nagle 算法原理是：在发出去的数据还未被确认之前，新生成的小数据先存起来，凑满一个 MSS 或者等到收到确认后再发送）。Nginx 只会针对处于 keep-alive 状态的 TCP 连接才会启用 tcp_nodelay。参考1
  # https://www.zhihu.com/question/42308970
  # https://en.wikipedia.org/wiki/Nagle%27s_algorithm
  tcp_nodelay on;
  # 可以看到 TCP_NOPUSH 是要等数据包累积到一定大小才发送，TCP_NODELAY 是要尽快发送，二者相互矛盾。实际上，它们确实可以一起用，最终的效果是先填满包，再尽快发送。
}
</code></pre></div><h3 id="buffer"><a href="#buffer" aria-hidden="true" class="header-anchor">#</a> buffer</h3> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  # This handles the client buffer size, meaning any POST actions sent to Nginx
  client_body_buffer_size 10K;
  # Similar to the previous directive, only instead it handles the client header size. For all intents and purposes, 1K is usually a decent size for this directive.
  client_header_buffer_size 1k;
  # The maximum allowed size for a client request. If the maximum size is exceeded, then Nginx will spit out a 413 error or Request Entity Too Large.
  client_max_body_size 8m;
  # The maximum number and size of buffers for large client headers.
  large_client_header_buffers 2 1k;
}
</code></pre></div><h3 id="timeout"><a href="#timeout" aria-hidden="true" class="header-anchor">#</a> timeout</h3> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  # the time a server will wait for a client body or client header to be sent after request. If neither a body or header is sent, the server will issue a 408 error or Request time out.
  client_body_timeout 12;
  client_header_timeout 12;
  # the timeout for keep-alive connections with the client. Simply put, Nginx will close connections with the client after this period of time. Nginx 的默认值是 75 秒，有些浏览器最多只保持 60 秒
  keepalive_timeout 60;
  # Is established not on the entire transfer of answer, but only between two operations of reading; if after this time client will take nothing, then Nginx is shutting down the connection.
  send_timeout 10;
  # default off; 连接超时后将通过向客户端发送RST包来直接重置连接。不使用4次挥手。可能会出现问题
  # 可能出现RST的情况：https://blog.csdn.net/hzw05103020/article/details/50806759
  # RST攻击：https://russelltao.iteye.com/blog/1405349
  reset_timeout_connection on;
}
</code></pre></div><h3 id="mime-types"><a href="#mime-types" aria-hidden="true" class="header-anchor">#</a> MIME types</h3> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  # 定义文件扩展名到MIME type的映射，多个扩展名可以对应一个MIME type
  include /etc/nginx/mime.types;
  # 默认MIME type
	default_type text/plain;
  # 为了快速寻找到相应MIME type，Nginx使用散列表来存储MIME type与文件扩展名。types_hash_bucket_size 设置了每个散列桶占用的内存大小。
  types_hash_bucket_size 128;
  # types_hash_max_size影响散列表的冲突率。types_hash_max_size越大，就会消耗更多的内存，但散列key的冲突率会降低，检索速度就更快。types_hash_max_size越小，消耗的内存就越小，但散列key的冲突率可能上升。
  types_hash_max_size 2048;
}
</code></pre></div><h3 id="gzip"><a href="#gzip" aria-hidden="true" class="header-anchor">#</a> gzip</h3> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  gzip             on;
  gzip_vary        on; # https://imququ.com/post/vary-header-in-http.html
  gzip_comp_level  2;
  gzip_min_length  1000;
  gzip_proxied     any;
  gzip_types       text/plain application/javascript text/xml text/css application/xml;
  gzip_disabled    &quot;msie6&quot;;
}
</code></pre></div><h3 id="引入其它文件"><a href="#引入其它文件" aria-hidden="true" class="header-anchor">#</a> 引入其它文件</h3> <div class="language-conf extra-class"><pre class="language-text"><code># /etc/nginx/nginx.conf
server {
  include /etc/nginx/sites-enabled/*;
}
</code></pre></div><h3 id="cache"><a href="#cache" aria-hidden="true" class="header-anchor">#</a> cache</h3> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  location ~* .(jpg|jpeg|png|gif|ico|css|js)$ {
    expires 365d;
    expires max;
    etag on;
  }
}
</code></pre></div><h3 id="proxy-cache"><a href="#proxy-cache" aria-hidden="true" class="header-anchor">#</a> proxy_cache</h3> <p>摘自参考1.</p> <blockquote><p>首先，在配置最外层定义一个缓存目录，并指定名称（keys_zone）和其他属性，这样在配置 proxy_pass 时，就可以使用这个缓存了。这里我对状态值等于 200 和 304 的响应缓存了 2 小时。</p></blockquote> <blockquote><p>默认情况下，如果响应头里有 Set-Cookie 字段，Nginx 并不会缓存这次响应，因为它认为这次响应的内容是因人而异的。我的博客中，这个 Set-Cookie 对于用户来说没有用，也不会影响输出内容，所以我通过配置 proxy_ignore_header 移除了它。</p></blockquote> <div class="language-conf extra-class"><pre class="language-text"><code>proxy_cache_path  /home/site/cache/nginx/proxy_cache_path levels=1:2 keys_zone=pnc:300m inactive=7d max_size=10g;
proxy_temp_path   /home/site/cache/nginx/proxy_temp_path;
proxy_cache_key   $host$uri$is_args$args;

server {
    location / {
        resolver                  127.0.0.1;  
        proxy_cache               pnc;
        proxy_cache_valid         200 304 2h;
        proxy_cache_lock          on;
        proxy_cache_lock_timeout  5s;
        proxy_cache_use_stale     updating error timeout invalid_header http_500 http_502;
        proxy_http_version        1.1;
        proxy_ignore_headers      Set-Cookie;
    }
}
</code></pre></div><h3 id="tcp-fast-open"><a href="#tcp-fast-open" aria-hidden="true" class="header-anchor">#</a> TCP Fast Open</h3> <p><a href="https://www.keycdn.com/support/tcp-fast-open" target="_blank" rel="noopener noreferrer">TCP Fast Open<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <img src="https://st.imququ.com/i/webp/static/uploads/2015/05/tcp-fastopen.png.webp" alt=""></p> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  listen 443 ssl http2 fastopen=3; 
  # 3 代表最多只能有 3 个未经三次握手的 TCP 链接在排队。超过这个限制，服务端会退化到采用普通的 TCP 握手流程
  # 这是为了减少资源耗尽攻击：TFO 可以在第一次 SYN 的时候发送 HTTP 请求，而服务端会校验 Fast Open Cookie（FOC），如果通过就开始处理请求。如果不加限制，恶意客户端可以利用合法的 FOC 发送大量请求耗光服务端资源
}
</code></pre></div><h3 id="reuseport"><a href="#reuseport" aria-hidden="true" class="header-anchor">#</a> reuseport</h3> <p><a href="http://nginx.com/blog/socket-sharding-nginx-release-1-9-1/" target="_blank" rel="noopener noreferrer">Socket Sharding in NGINX Release 1.9.1<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p><img src="https://st.imququ.com/i/webp/static/uploads/2015/05/socket-sharding.png.webp" alt=""></p> <p><img src="https://cdn.wp.nginx.com/wp-content/uploads/2015/05/reuseport-benchmark.png" alt=""></p> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  listen 443 ssl http2 fastopen=3 reuseport;
}
</code></pre></div><h3 id="https"><a href="#https" aria-hidden="true" class="header-anchor">#</a> HTTPS</h3> <h4 id="let-s-encrypted"><a href="#let-s-encrypted" aria-hidden="true" class="header-anchor">#</a> Let's Encrypted</h4> <ol><li>install</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">wget</span> https://dl.eff.org/certbot-auto
<span class="token function">sudo</span> <span class="token function">mv</span> certbot-auto /usr/local/bin/certbot-auto
<span class="token function">sudo</span> <span class="token function">chown</span> root /usr/local/bin/certbot-auto
<span class="token function">sudo</span> <span class="token function">chmod</span> 0755 /usr/local/bin/certbot-auto
</code></pre></div><ol start="2"><li>配置nginx</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">sudo</span> /usr/local/bin/certbot-auto --nginx
</code></pre></div><ol start="3"><li>自动更新证书</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token keyword">echo</span> <span class="token string">&quot;0 0,12 * * * root python -c 'import random; import time; time.sleep(random.random() * 3600)' &amp;&amp; /usr/local/bin/certbot-auto renew&quot;</span> <span class="token operator">|</span> <span class="token function">sudo</span> <span class="token function">tee</span> -a /etc/crontab <span class="token operator">&gt;</span> /dev/null
</code></pre></div><ol start="4"><li>在SSL Lab测试</li></ol> <p>https://www.ssllabs.com/ssltest/index.html</p> <h4 id="优化"><a href="#优化" aria-hidden="true" class="header-anchor">#</a> 优化</h4> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  # default none; 
  # builtin 是使用OpenSSL内置的cache，只适用于一个worker process, 可能会导致内存碎片
  # shared 可以用于多个worker processes
  ssl_session_cache shared:le_nginx_SSL:1m;
  # default 5m;
  ssl_session_timeout 1440m;
  # default: ssl_protocols TLSv1 TLSv1.1 TLSv1.2;
  ssl_protocols TLSv1 TLSv1.1 TLSv1.2 TLSv1.3;
  # default: off; 倾向于使用服务端密钥
  ssl_prefer_server_ciphers on;
}
</code></pre></div><h4 id="ocsp-stapling"><a href="#ocsp-stapling" aria-hidden="true" class="header-anchor">#</a> OCSP Stapling</h4> <p><a href="https://imququ.com/post/why-can-not-turn-on-ocsp-stapling.html" target="_blank" rel="noopener noreferrer">从无法开启 OCSP Stapling 说起<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="http://blog.mozilla.org/security/2013/07/29/ocsp-stapling-in-firefox/" target="_blank" rel="noopener noreferrer">ocsp stapling in firefox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  resolver 8.8.8.8 8.8.4.4;
  ssl_stapling on;
  ssl_stapling_verify on;
  ssl_trusted_certificate /etc/nginx/ssl/star_forgott_com.crt;
}
</code></pre></div><ol><li><a href="https://www.myssl.cn/tools/downloadchain.html" target="_blank" rel="noopener noreferrer">中间证书下载工具<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>网站证书命名为site.pem, 中间证书为intermediate.pem, 根证书root.pem</li> <li>验证</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ openssl x509 -in site.pem -noout -subject
$ openssl x509 -in intermediate.pem -noout -subject
$ openssl x509 -in root.pem -noout -subject
<span class="token comment"># 获取OCSP地址</span>
$ openssl x509 -in site.pem -noout -ocsp_uri
http://ocsp.digicert-cn.com
$ openssl ocsp -issuer intermediate.pem -cert site.pem -no_nonce -text -url http://ocsp.digicert-cn.com
<span class="token comment"># 把</span>
$ openssl ocsp -CAfile chained.pem -issuer intermediate.pem -cert site.pem -no_nonce -text -url http://ocsp.digicert-cn.com -header <span class="token string">&quot;HOST&quot;</span> <span class="token string">&quot;ocsp.digicert-cn.com&quot;</span>
</code></pre></div><ol start="4"><li>验证证书有效</li></ol> <div class="language-bash extra-class"><pre class="language-bash"><code>$ openssl s_client -connect campus.game.163.com:443 -status -tlsextdebug <span class="token operator">&lt;</span> /dev/null 2<span class="token operator">&gt;</span><span class="token operator">&amp;</span>1
</code></pre></div><h3 id="http2"><a href="#http2" aria-hidden="true" class="header-anchor">#</a> http2</h3> <ol><li>添加http2</li></ol> <div class="language-conf extra-class"><pre class="language-text"><code>server{
  listen [::]:443 ssl http2 ipv6only=on; # for ipv6
  listen 443 ssl http2;
}
</code></pre></div><ol start="2"><li>删除不安全的加密方式</li></ol> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  # include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot&lt;^&gt; # 注释掉这行
  # 添加下面这行
  ssl_ciphers EECDH+CHACHA20:EECDH+AES128:RSA+AES128:EECDH+AES256:RSA+AES256:EECDH+3DES:RSA+3DES:!MD5;
}
</code></pre></div><ol start="3"><li>添加HTTP Strict Transport Security(HSTS)</li></ol> <p><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security" target="_blank" rel="noopener noreferrer">Strict-Transport-Security<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <div class="language-conf extra-class"><pre class="language-text"><code>server{
  add_header Strict-Transport-Security &quot;max-age=15768000&quot; always;
  add_header Strict-Transport-Security &quot;max-age=15768000; includeSubDomains&quot; always; # 包括自域名
}
</code></pre></div><ol start="4"><li>redirect http</li></ol> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  listen 80;
  return 301 https://$host$request_uri;
}
</code></pre></div><h2 id="安全"><a href="#安全" aria-hidden="true" class="header-anchor">#</a> 安全</h2> <h3 id="隐藏不必要信息"><a href="#隐藏不必要信息" aria-hidden="true" class="header-anchor">#</a> 隐藏不必要信息</h3> <div class="language-conf extra-class"><pre class="language-text"><code>server{
  server_token: off;
  proxy_hide_header: X-Powered-By;
}
</code></pre></div><h3 id="禁用非必要的方法"><a href="#禁用非必要的方法" aria-hidden="true" class="header-anchor">#</a> 禁用非必要的方法</h3> <p>444 是 Nginx 定义的响应状态码，会立即断开连接，没有响应正文</p> <div class="language-conf extra-class"><pre class="language-text"><code>server {
  if($request_method !~ ^(GET|HEAD|POST)){
    return 444;
  }
}
</code></pre></div><h3 id="合理配置响应头"><a href="#合理配置响应头" aria-hidden="true" class="header-anchor">#</a> 合理配置响应头</h3> <div class="language-conf extra-class"><pre class="language-text"><code>add_header  Strict-Transport-Security  &quot;max-age=31536000&quot;;
add_header  X-Frame-Options  deny; # 用来指定此网页是否允许被 iframe 嵌套，deny 就是不允许任何嵌套发生
add_header  X-Content-Type-Options  nosniff; # 用来指定浏览器对未指定或错误指定 Content-Type 资源真正类型的猜测行为，nosniff 表示不允许任何猜测
add_header  Content-Security-Policy  &quot;default-src 'self'; script-src 'self' 'unsafe-inline' 'unsafe-eval' https://a.disquscdn.com; img-src 'self' data: https://www.google-analytics.com; style-src 'self' 'unsafe-inline'; frame-src https://disqus.com&quot;; # （简称为 CSP）用来指定页面可以加载哪些资源，主要目的是减少 XSS 的发生
</code></pre></div><h3 id="参考："><a href="#参考：" aria-hidden="true" class="header-anchor">#</a> 参考：</h3> <ol><li><a href="https://imququ.com/post/my-nginx-conf-for-wpo.html" target="_blank" rel="noopener noreferrer">本博客 Nginx 配置之性能篇<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.digitalocean.com/community/tutorials/how-to-optimize-nginx-configuration#timeouts" target="_blank" rel="noopener noreferrer">How To Optimize Nginx Configuration<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://gist.github.com/plentz/6737338" target="_blank" rel="noopener noreferrer">Best nginx configuration for improved security<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://thoughts.t37.net/nginx-optimization-understanding-sendfile-tcp-nodelay-and-tcp-nopush-c55cdd276765" target="_blank" rel="noopener noreferrer">Optimisations Nginx, bien comprendre sendfile, tcpnodelay et tcpnopush<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.706da052.js" defer></script><script src="/blog/assets/js/2.befbd2ed.js" defer></script><script src="/blog/assets/js/8.b8a0fbe6.js" defer></script>
  </body>
</html>
