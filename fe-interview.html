<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ousiri blog</title>
    <meta name="description" content="">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.a8882a5b.css" as="style"><link rel="preload" href="/blog/assets/js/app.706da052.js" as="script"><link rel="preload" href="/blog/assets/js/2.befbd2ed.js" as="script"><link rel="preload" href="/blog/assets/js/5.8f99ce51.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.3df02791.js"><link rel="prefetch" href="/blog/assets/js/11.db5cd244.js"><link rel="prefetch" href="/blog/assets/js/12.c66f8cd9.js"><link rel="prefetch" href="/blog/assets/js/13.f4789aac.js"><link rel="prefetch" href="/blog/assets/js/14.1a59cbdf.js"><link rel="prefetch" href="/blog/assets/js/3.63081c82.js"><link rel="prefetch" href="/blog/assets/js/4.301d19de.js"><link rel="prefetch" href="/blog/assets/js/6.212dc2e5.js"><link rel="prefetch" href="/blog/assets/js/7.e1704d7d.js"><link rel="prefetch" href="/blog/assets/js/8.b8a0fbe6.js"><link rel="prefetch" href="/blog/assets/js/9.0dd7c49b.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.a8882a5b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">ousiri blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><!---->  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="前端面试题"><a href="#前端面试题" aria-hidden="true" class="header-anchor">#</a> 前端面试题</h1> <blockquote><p>forked from <a href="https://github.com/haizlin/fe-interview" target="_blank" rel="noopener noreferrer">fe-interview<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="html"><a href="#html" aria-hidden="true" class="header-anchor">#</a> HTML</h2> <ol><li><p>页面导入样式时，使用link和@import有什么区别？</p></li> <li><p>列举出你最常用的meta标签的写法和作用</p></li></ol> <blockquote><ol><li><code>&lt;meta charset=&quot;utf-8&quot;&gt;</code></li> <li><code>&lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge,chrome=1&quot;&gt;</code></li> <li><code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0,user-scalable=no,viewport-fit=cover&quot;&gt;</code></li> <li><code>&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer-when-downgrade&quot;&gt;</code> <a href="https://imququ.com/post/referrer-policy.html" target="_blank" rel="noopener noreferrer">Referrer Policy 介绍<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/meta" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol></blockquote> <ol start="99"><li>HTML5的页面可见性（Page Visibility）有哪些应用场景？</li></ol> <blockquote><p>Page Visibility可以知道当前页面是否被用户激活，获取可见状态：<code>document.hidden</code>和<code>document.visiblityState</code>, 监听状态变化：<code>document.addEventListener('visiblitychange', handler, false)</code></p> <ol><li>视频 &amp; 音频播放的场景，隐藏时可以暂停播放</li> <li>滚动预加载的情况</li> <li>减少不必要的网络通讯</li> <li>隐藏的页面不应算入pv</li> <li>网页动画</li> <li>手机上需要处理网页退出的逻辑, <code>pagehide</code> <code>beforeunload</code> <code>unload</code>
在浏览器不支持时，使用window的<code>blur</code>和<code>focus</code>可以部分模拟</li></ol> <p>参考: <a href="https://developer.mozilla.org/en-US/docs/Web/API/Page_Visibility_API" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 和 <a href="http://www.ruanyifeng.com/blog/2018/10/page_visibility_api.html" target="_blank" rel="noopener noreferrer">Page Visibility API 教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <ol start="100"><li>HTML5怎么为输入框添加语音输入的功能呢？</li></ol> <blockquote><p><code>&lt;input type=”text” speech x-webkit-speech /&gt;</code></p></blockquote> <ol start="101"><li>说说你对accesskey的理解，举例说明它有什么运用场景？</li></ol> <blockquote><p>可以为某个元素增加全局快捷键. IE为focus，chrome为click。注意触发的快捷键组合不一样
<code>&lt;a href=&quot;http://www.baidu.com&quot; accesskey=&quot;h&quot;&gt;HTML&lt;/a&gt;</code></p> <p><a href="https://www.zhangxinxu.com/wordpress/2017/05/html-accesskey/" target="_blank" rel="noopener noreferrer">HTML accesskey属性与web自定义键盘快捷访问<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/accesskey" target="_blank" rel="noopener noreferrer">MDN<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></blockquote> <h2 id="css"><a href="#css" aria-hidden="true" class="header-anchor">#</a> CSS</h2> <ol start="98"><li>移动端微信页面有哪些兼容性问题及解决方案是什么？</li></ol> <blockquote><ol><li>检查userAgent是否微信，如果是，可以调用微信的sdk</li> <li>部分版本的微信不能使用Universal Link</li></ol></blockquote> <ol start="99"><li>你对视网膜(Retina)分辨率有了解吗？有没有在实际中使用过？</li></ol> <blockquote><ol><li>css方面，@media (-webkit-min-device-pixel-ratio: 2)</li> <li>js方面，主要是window.devicePixelRatio</li> <li>有些手机的devicePixelRatio是1.5，容易造成分割线有时是2px，有时是1px</li></ol></blockquote> <ol start="100"><li>如何让大小不同的图片等比缩放不变形显示在固定大小的div里？写出来</li></ol> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>div3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">div</span><span class="token punctuation">{</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100px<span class="token punctuation">;</span>
  <span class="token property">border</span><span class="token punctuation">:</span> 1px solid black<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 背景图 */</span>
<span class="token selector">.div1</span><span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token url">url(https://www.google.com/images/branding/googlelogo/1x/googlelogo_color_272x92dp.png)</span> no-repeat center center<span class="token punctuation">;</span>
  <span class="token property">background-size</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* 单独元素 */</span>
<span class="token selector">.div2 img</span> <span class="token punctuation">{</span>
  <span class="token property">object-fit</span><span class="token punctuation">:</span> contain<span class="token punctuation">;</span>
  <span class="token property">width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/* flex */</span>
<span class="token selector">.div3</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
  <span class="token property">align-items</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
  <span class="token property">jutify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.div3 img</span><span class="token punctuation">{</span>
  <span class="token property">max-width</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">max-height</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
  <span class="token property">margin</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span> <span class="token comment">/* 这个和align-items &amp; justify-content互相替代 */</span>
<span class="token punctuation">}</span>
</code></pre></div><ol start="101"><li>说说你对前端二倍图的理解？移动端使用二倍图比一倍图有什么好处？</li></ol> <blockquote><p>在高清屏下能够查看</p></blockquote> <ol start="105"><li>怎么实现移动端的边框0.5px</li></ol> <blockquote><ol><li>ios支持0.5px</li> <li>全框，这种会导致整个元素里面的尺寸都要乘2，可以设置在after或者before + pointer-event：<code>border: 1px solid red; transform: scale(0.5);</code></li> <li>meta: <code>&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=0.5&quot;&gt;</code></li> <li>背景渐变：<code>height: 1px; background-image: linear-gradient(0deg, red 50%, transparent 50%)</code></li></ol></blockquote> <h2 id="js"><a href="#js" aria-hidden="true" class="header-anchor">#</a> JS</h2> <ol start="98"><li>说说你理解的同步和异步的区别是什么？</li></ol> <blockquote><p>同步：阻塞
异步：不阻塞，继续执行下一行，不保证上一行已经执行完 &amp; 返回</p></blockquote> <ol start="99"><li>不用第三方库，说说纯js怎么实现读取和导出excel？</li></ol> <blockquote><p>这题的信息太少，怎么叫“读取”，是把excel的内容提取出来？导出cls</p></blockquote> <ol start="100"><li>分别封装精确运算的加减乘除四个方法</li></ol> <blockquote><p>pending</p></blockquote> <h2 id="软技能"><a href="#软技能" aria-hidden="true" class="header-anchor">#</a> 软技能</h2> <ol start="98"><li>不查资料，你会手写正则吗？</li></ol> <blockquote><p><a href="https://juejin.im/post/5965943ff265da6c30653879" target="_blank" rel="noopener noreferrer">JS正则表达式完整教程<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <ul><li>匹配16进制颜色值 <code>'#aafafa'.match(/^#([\d|a-f]{6}|[\d|a-f]{3})$/i)</code></li> <li>匹配时间 <code>'23:59'.match(/^([0-1][0-9]|2[0-3]):[0-5][0-9]$/)</code></li> <li>匹配日期 <code>'2017-06-10'.match(/^\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[0-1])$/)</code></li> <li>window操作系统文件路径 <code>'F:\\study\\javascript\\regex\\regular expression.pdf'.match(/^\w:\\([^\\:*&lt;&gt;|&quot;?\r\n/]+\\?)*[^\\:*&lt;&gt;|&quot;?\r\n/]?$/i)</code> <ul><li><code>F:\study\javascript\regex\regular expression.pdf</code></li> <li><code>F:\study\javascript\regex\</code></li> <li><code>F:\study\javascript</code></li> <li><code>F:\</code></li></ul></li> <li>匹配id <code>'&lt;div id=&quot;container&quot; class=&quot;main&quot;&gt;&lt;/div&gt;'.match(/id=&quot;.*?&quot;/i)</code> <ul><li>优化 <code>'&lt;div id=&quot;container&quot; class=&quot;main&quot;&gt;&lt;/div&gt;'.match(/id=&quot;[^&quot;]*&quot;/i)</code>
pending...</li></ul></li> <li><code>&quot;[JS] Lesson_01.mp4&quot;.replace(/\b/g, '#');</code> =&gt; <code>&quot;[#JS#] #Lesson_01#.#mp4#&quot;</code></li> <li>无法匹配任何东西的正则 <code>/.^/</code> <code>/$./</code></li> <li>数字的千位分隔符表示法 <code>'100000000'.replace(/(?=\B(\d{3})+$)/g, ',')</code> <ul><li>匹配最后一个逗号 <code>'100000000'.replace(/(?=\d{3}$)/, ',')</code></li> <li>匹配所有逗号 <code>'100000000'.replace(/(?=(\d{3})+$)/g, ',')</code></li> <li>匹配特殊案例 <code>'100000000'.replace(/(?!^)(?=(\d{3})+$)/g, ',')</code></li> <li>其它案例：&quot;12345678 123456789&quot;替换成&quot;12,345,678 123,456,789&quot;，<code>&quot;12345678 123456789&quot;.replace(/\B(?=(\d{3})+\b)/g, ',')</code></li></ul></li> <li>密码长度6-12位，由数字、小写字符和大写字母组成，但必须至少包括2种字符
<ul><li><code>'abc123'.match(/^[a-zA-Z0-9]{6,12}$/)</code></li> <li><code>'abc123'.match(/(?=.*[0-9])^[a-zA-Z0-9]{6,12}$/)</code></li> <li><code>'abc123'.match(/(?=.*[0-9])(?=.*[a-z])^[a-zA-Z0-9]{6,12}$/)</code></li> <li><code>'abc123'.match(/((?=.*[0-9])(?=.*[A-Z])|(?=.*[0-9])(?=.*[a-z])|(?=.*[A-Z])(?=.*[a-z]))^[a-zA-Z0-9]{6,12}$/)</code></li> <li>反向, 不能全部是数字 <code>'123455a'.match(/(?!^[0-9]*$)^[a-zA-Z0-9]{6,12}$/)</code></li> <li><code>'123455'.match(/(?!^[0-9]*$)(?!^[a-z]*$)(?!^[A-Z]*$)^[a-zA-Z0-9]{6,12}$/)</code></li></ul></li></ul></blockquote> <ol start="99"><li>你有用过单例模式吗？主要运用场景有哪些？</li></ol> <blockquote><p>参考<a href="https://segmentfault.com/a/1190000012842251" target="_blank" rel="noopener noreferrer">JavaScript单例模式<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
定义：确保一个类仅有一个实例，并提供一个访问它的全局访问点</p> <ol><li>全局唯一遮罩层</li> <li>sdk</li> <li>聊天窗口</li></ol></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// simple</span>
<span class="token keyword">function</span> <span class="token function">Singleton1</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
Singleton1<span class="token punctuation">.</span><span class="token function-variable function">getInstance</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton1</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>instance
<span class="token punctuation">}</span>
<span class="token keyword">const</span> a1 <span class="token operator">=</span> Singleton1<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b1 <span class="token operator">=</span> Singleton1<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> a1 <span class="token operator">===</span> b1<span class="token punctuation">,</span> a1<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// closure</span>
<span class="token keyword">function</span> <span class="token function">Singleton2</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
<span class="token punctuation">}</span>
Singleton2<span class="token punctuation">.</span>getInstance <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>
      instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton2</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a2 <span class="token operator">=</span> Singleton2<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b2 <span class="token operator">=</span> Singleton2<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> a2 <span class="token operator">===</span> b2<span class="token punctuation">,</span> a2<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// new</span>
<span class="token keyword">const</span> Singleton3 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token keyword">return</span> instance
    <span class="token punctuation">}</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name
    instance <span class="token operator">=</span> <span class="token keyword">this</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> a3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton3</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton3</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">,</span> a3 <span class="token operator">===</span> b3<span class="token punctuation">,</span> a3<span class="token punctuation">.</span>name<span class="token punctuation">,</span> b3<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token comment">// true</span>

<span class="token comment">// new2, 拆分wrapper</span>
<span class="token keyword">const</span> singletonWrapper <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">Constructor</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">let</span> instance <span class="token operator">=</span> <span class="token keyword">null</span>
  <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// Constructor.apply(this, args) // 需要加上原型链</span>
      instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Constructor</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">return</span> instance
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> Singleton4 <span class="token operator">=</span> <span class="token function">singletonWrapper</span><span class="token punctuation">(</span>Singleton2<span class="token punctuation">)</span>
<span class="token keyword">const</span> a4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton4</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> b4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton4</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">,</span> a4 <span class="token operator">===</span> b4<span class="token punctuation">,</span> a4<span class="token punctuation">,</span> a4<span class="token punctuation">.</span>name<span class="token punctuation">,</span> a4<span class="token punctuation">.</span>__proto__<span class="token punctuation">,</span> a4<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Singleton2<span class="token punctuation">)</span>
</code></pre></div><ol start="100"><li>你有画过流程图吗？开始和判定分别用什么图形表示？</li></ol> <blockquote><p>开始 -&gt; 圆角矩形, 判定 -&gt; 菱形</p></blockquote> <ol start="105"><li>域名解析它有哪几种方式？</li></ol> <blockquote><ol><li>A类型，ip的映射，不包括端口</li> <li>CNAME，映射到别的域名，不包括端口和路径</li> <li>URL转发</li></ol></blockquote></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.706da052.js" defer></script><script src="/blog/assets/js/2.befbd2ed.js" defer></script><script src="/blog/assets/js/5.8f99ce51.js" defer></script>
  </body>
</html>
